<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Lab 2 - Task Motor: encoder_drv Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Lab 2 - Task Motor
   &#160;<span id="projectnumber">0.001</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classencoder__drv-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">encoder_drv Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This define prevents this .H file from being included multiple times in a .CPP file.  
 <a href="classencoder__drv.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="encoder__drv_8h_source.html">encoder_drv.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a25af67f4725b47983ceb8ce4edf3296a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classencoder__drv.html#a25af67f4725b47983ceb8ce4edf3296a">encoder_drv</a> (emstream *=NULL, uint8_t=0)</td></tr>
<tr class="memdesc:a25af67f4725b47983ceb8ce4edf3296a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This constructor enables global external interrupts on channels E4-&gt;E7 and masks them appropriately to trigger an interrupt for any logical change.  <a href="#a25af67f4725b47983ceb8ce4edf3296a">More...</a><br/></td></tr>
<tr class="separator:a25af67f4725b47983ceb8ce4edf3296a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affc7617f6c08f88b07454c58803f338d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="affc7617f6c08f88b07454c58803f338d"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><b>calc_motor_speed</b> (uint16_t old_count, uint16_t new_count, uint16_t period_ms)</td></tr>
<tr class="separator:affc7617f6c08f88b07454c58803f338d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a9efa5138b331c06f0821b087168d2fda"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9efa5138b331c06f0821b087168d2fda"></a>
emstream *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classencoder__drv.html#a9efa5138b331c06f0821b087168d2fda">ptr_to_serial</a></td></tr>
<tr class="memdesc:a9efa5138b331c06f0821b087168d2fda"><td class="mdescLeft">&#160;</td><td class="mdescRight">The motor class uses this pointer to print debug messages via the serial port. <br/></td></tr>
<tr class="separator:a9efa5138b331c06f0821b087168d2fda"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This define prevents this .H file from being included multiple times in a .CPP file. </p>
<p>This class will instantiate an encoder driver object so that external global interrupts and encoder data may be extracted from pins E4 -&gt; E7.</p>
<p>The class has a protected variable: a pointer that is used to print debug messages to the serial port. </p>

<p>Definition at line <a class="el" href="encoder__drv_8h_source.html#l00034">34</a> of file <a class="el" href="encoder__drv_8h_source.html">encoder_drv.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a25af67f4725b47983ceb8ce4edf3296a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">encoder_drv::encoder_drv </td>
          <td>(</td>
          <td class="paramtype">emstream *&#160;</td>
          <td class="paramname"><em>p_serial_port</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>interrupt_ch</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This constructor enables global external interrupts on channels E4-&gt;E7 and masks them appropriately to trigger an interrupt for any logical change. </p>
<p>The constructor sets up the encoder driver for use. The "= NULL" part is a default parameter, signifying that if that parameter isn't given on the line where this constructor is called, the compiler will just fill in "NULL". In this case this has the effect of turning off diagnostic printouts. The "uint8_t = 0" fills in a zero for the interrupt channel select if user does not define.</p>
<p>Two interrupt service routines provide independent encoder data for motor 1 and motor 2. This data includes direction, state, encoder count, and error count. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">interrupt_ch</td><td>Interrupt channel passed in. Channel 4-&gt;7 will be used for the motor encoder. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="encoder__drv_8cpp_source.html#l00034">34</a> of file <a class="el" href="encoder__drv_8cpp_source.html">encoder_drv.cpp</a>.</p>

<p>References <a class="el" href="encoder__drv_8h_source.html#l00038">ptr_to_serial</a>, <a class="el" href="main_8cpp_source.html#l00083">sh_encoder_count_1</a>, <a class="el" href="main_8cpp_source.html#l00084">sh_encoder_count_2</a>, <a class="el" href="main_8cpp_source.html#l00087">sh_encoder_new_state_1</a>, <a class="el" href="main_8cpp_source.html#l00090">sh_encoder_new_state_2</a>, <a class="el" href="main_8cpp_source.html#l00086">sh_encoder_old_state_1</a>, and <a class="el" href="main_8cpp_source.html#l00089">sh_encoder_old_state_2</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="encoder__drv_8h_source.html">encoder_drv.h</a></li>
<li><a class="el" href="encoder__drv_8cpp_source.html">encoder_drv.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun May 8 2016 16:46:27 for Lab 2 - Task Motor by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
