\hypertarget{encoder__drv_8cpp}{\section{encoder\-\_\-drv.\-cpp File Reference}
\label{encoder__drv_8cpp}\index{encoder\-\_\-drv.\-cpp@{encoder\-\_\-drv.\-cpp}}
}
{\ttfamily \#include $<$stdlib.\-h$>$}\\*
{\ttfamily \#include $<$avr/io.\-h$>$}\\*
{\ttfamily \#include $<$avr/interrupt.\-h$>$}\\*
{\ttfamily \#include \char`\"{}rs232int.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}textqueue.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}taskshare.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}shares.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}encoder\-\_\-drv.\-h\char`\"{}}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{encoder__drv_8cpp_a98a290ada01eb27fd2ff4564371566e5}{I\-S\-R} (I\-N\-T4\-\_\-vect)
\begin{DoxyCompactList}\small\item\em This interrupt service routine determines the new encoder state, direction, increments or decrements encoder count, and flags encoder sequence errors with the error count. \end{DoxyCompactList}\item 
\hypertarget{encoder__drv_8cpp_acff624bff43b1ffc1b21bdee2b668c08}{{\bfseries I\-S\-R\-\_\-\-A\-L\-I\-A\-S} (I\-N\-T5\-\_\-vect, I\-N\-T4\-\_\-vect)}\label{encoder__drv_8cpp_acff624bff43b1ffc1b21bdee2b668c08}

\item 
\hyperlink{encoder__drv_8cpp_a28be307ba14efb36d0965f4be9c19b62}{I\-S\-R} (I\-N\-T6\-\_\-vect)
\begin{DoxyCompactList}\small\item\em This interrupt service routine determines the new encoder state, direction, increments or decrements encoder count, and flags encoder sequence errors with the error count. \end{DoxyCompactList}\item 
\hypertarget{encoder__drv_8cpp_afb362e1c875af09274e68c90c433da1b}{{\bfseries I\-S\-R\-\_\-\-A\-L\-I\-A\-S} (I\-N\-T7\-\_\-vect, I\-N\-T6\-\_\-vect)}\label{encoder__drv_8cpp_afb362e1c875af09274e68c90c433da1b}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
This file contains interrupt service routines appropriate to a specific motor. Also shares pertinent encoder data with \hyperlink{task__encoder_8cpp}{task\-\_\-encoder.\-cpp}, including direction, encoder states, count, and error count.

Revisions\-: \begin{DoxyItemize}
\item April 13, 2016 -- B\-K\-K M\-E405 Group 3 original file \item April 28, 2016 -- B\-K\-K Added interrupt enable for ch 6 \& 7, interrupts for ch 4 -\/$>$ 7 \end{DoxyItemize}


Definition in file \hyperlink{encoder__drv_8cpp_source}{encoder\-\_\-drv.\-cpp}.



\subsection{Function Documentation}
\hypertarget{encoder__drv_8cpp_a98a290ada01eb27fd2ff4564371566e5}{\index{encoder\-\_\-drv.\-cpp@{encoder\-\_\-drv.\-cpp}!I\-S\-R@{I\-S\-R}}
\index{I\-S\-R@{I\-S\-R}!encoder_drv.cpp@{encoder\-\_\-drv.\-cpp}}
\subsubsection[{I\-S\-R}]{\setlength{\rightskip}{0pt plus 5cm}I\-S\-R (
\begin{DoxyParamCaption}
\item[{I\-N\-T4\-\_\-vect}]{}
\end{DoxyParamCaption}
)}}\label{encoder__drv_8cpp_a98a290ada01eb27fd2ff4564371566e5}


This interrupt service routine determines the new encoder state, direction, increments or decrements encoder count, and flags encoder sequence errors with the error count. 

Specifically, compare the new state to the previous state and based on the physical quadrature of the encoder disk, determines relevant encoder direction and recognizes errors\-: tick skipping. This I\-S\-R will be used for channel 4 \& 5. 
\begin{DoxyParams}{Parameters}
{\em I\-N\-T4\-\_\-vect} & Interrupt vector for pin E4 (External interrupt) \\
\hline
\end{DoxyParams}


Definition at line 100 of file encoder\-\_\-drv.\-cpp.



References sh\-\_\-encoder\-\_\-count\-\_\-1, sh\-\_\-encoder\-\_\-error\-\_\-count\-\_\-1, sh\-\_\-encoder\-\_\-new\-\_\-state\-\_\-1, and sh\-\_\-encoder\-\_\-old\-\_\-state\-\_\-1.

\hypertarget{encoder__drv_8cpp_a28be307ba14efb36d0965f4be9c19b62}{\index{encoder\-\_\-drv.\-cpp@{encoder\-\_\-drv.\-cpp}!I\-S\-R@{I\-S\-R}}
\index{I\-S\-R@{I\-S\-R}!encoder_drv.cpp@{encoder\-\_\-drv.\-cpp}}
\subsubsection[{I\-S\-R}]{\setlength{\rightskip}{0pt plus 5cm}I\-S\-R (
\begin{DoxyParamCaption}
\item[{I\-N\-T6\-\_\-vect}]{}
\end{DoxyParamCaption}
)}}\label{encoder__drv_8cpp_a28be307ba14efb36d0965f4be9c19b62}


This interrupt service routine determines the new encoder state, direction, increments or decrements encoder count, and flags encoder sequence errors with the error count. 

Specifically, compare the new state to the previous state and based on the physical quadrature of the encoder disk, determines relevant encoder direction and recognizes errors\-: tick skipping. This I\-S\-R will be used for channel 6 \& 7. 
\begin{DoxyParams}{Parameters}
{\em I\-N\-T6\-\_\-vect} & Interrupt vector for pin E6 (External interrupt) \\
\hline
\end{DoxyParams}


Definition at line 163 of file encoder\-\_\-drv.\-cpp.



References sh\-\_\-encoder\-\_\-count\-\_\-2, sh\-\_\-encoder\-\_\-new\-\_\-state\-\_\-2, and sh\-\_\-encoder\-\_\-old\-\_\-state\-\_\-2.

