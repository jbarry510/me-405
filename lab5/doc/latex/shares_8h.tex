\hypertarget{shares_8h}{\section{shares.\-h File Reference}
\label{shares_8h}\index{shares.\-h@{shares.\-h}}
}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
Text\-Queue $\ast$ \hyperlink{shares_8h_acd99bf5d187d4809af2f460a5415e904}{p\-\_\-print\-\_\-ser\-\_\-queue}
\begin{DoxyCompactList}\small\item\em This define prevents this .h file from being included multiple times in a .cpp file. \end{DoxyCompactList}\item 
\hypertarget{shares_8h_a90445688792da1450704027ac2c4b6db}{Task\-Share$<$ int8\-\_\-t $>$ $\ast$ \hyperlink{shares_8h_a90445688792da1450704027ac2c4b6db}{sh\-\_\-motor\-\_\-select}}\label{shares_8h_a90445688792da1450704027ac2c4b6db}

\begin{DoxyCompactList}\small\item\em Motor selection share. \end{DoxyCompactList}\item 
\hypertarget{shares_8h_a5cd0e4789d62c739a93ead239c5c42d8}{Task\-Share$<$ int16\-\_\-t $>$ $\ast$ \hyperlink{shares_8h_a5cd0e4789d62c739a93ead239c5c42d8}{sh\-\_\-power\-\_\-entry}}\label{shares_8h_a5cd0e4789d62c739a93ead239c5c42d8}

\begin{DoxyCompactList}\small\item\em Power value share. \end{DoxyCompactList}\item 
\hypertarget{shares_8h_aacc570f48cbc8d62d6b506da980e5b36}{Task\-Share$<$ int8\-\_\-t $>$ $\ast$ \hyperlink{shares_8h_aacc570f48cbc8d62d6b506da980e5b36}{sh\-\_\-power\-\_\-set\-\_\-flag}}\label{shares_8h_aacc570f48cbc8d62d6b506da980e5b36}

\begin{DoxyCompactList}\small\item\em Flag share indicating power value has changed. \end{DoxyCompactList}\item 
\hypertarget{shares_8h_a988f3cc5d8ffd96fed75760ef2b6cc12}{Task\-Share$<$ int16\-\_\-t $>$ $\ast$ \hyperlink{shares_8h_a988f3cc5d8ffd96fed75760ef2b6cc12}{sh\-\_\-braking\-\_\-entry}}\label{shares_8h_a988f3cc5d8ffd96fed75760ef2b6cc12}

\begin{DoxyCompactList}\small\item\em Braking value share. \end{DoxyCompactList}\item 
\hypertarget{shares_8h_a23b68acc1e60935f6c5897a62b5b0221}{Task\-Share$<$ int8\-\_\-t $>$ $\ast$ \hyperlink{shares_8h_a23b68acc1e60935f6c5897a62b5b0221}{sh\-\_\-braking\-\_\-set\-\_\-flag}}\label{shares_8h_a23b68acc1e60935f6c5897a62b5b0221}

\begin{DoxyCompactList}\small\item\em Flag share indicating braking value has changed. \end{DoxyCompactList}\item 
\hypertarget{shares_8h_a5aa2903e32574844afb823db851e91d8}{Task\-Share$<$ int8\-\_\-t $>$ $\ast$ \hyperlink{shares_8h_a5aa2903e32574844afb823db851e91d8}{sh\-\_\-braking\-\_\-full\-\_\-flag}}\label{shares_8h_a5aa2903e32574844afb823db851e91d8}

\begin{DoxyCompactList}\small\item\em Flag share indicating full braking requested. \end{DoxyCompactList}\item 
\hypertarget{shares_8h_a997260f75507d382d25524c0b6716b9c}{Task\-Share$<$ volatile uint16\-\_\-t $>$ $\ast$ \hyperlink{shares_8h_a997260f75507d382d25524c0b6716b9c}{sh\-\_\-encoder\-\_\-count\-\_\-1}}\label{shares_8h_a997260f75507d382d25524c0b6716b9c}

\begin{DoxyCompactList}\small\item\em Encoder counts\-:Motor 1 encoder count. \end{DoxyCompactList}\item 
\hypertarget{shares_8h_a88f2240863fddb31a613dded6ad871f8}{Task\-Share$<$ volatile uint16\-\_\-t $>$ $\ast$ \hyperlink{shares_8h_a88f2240863fddb31a613dded6ad871f8}{sh\-\_\-encoder\-\_\-count\-\_\-2}}\label{shares_8h_a88f2240863fddb31a613dded6ad871f8}

\begin{DoxyCompactList}\small\item\em Motor 1. \end{DoxyCompactList}\item 
Task\-Share$<$ volatile uint8\-\_\-t $>$ $\ast$ \hyperlink{shares_8h_a1b679af79d73c380a7f0b4d49dcbc755}{sh\-\_\-encoder\-\_\-old\-\_\-state\-\_\-1}
\begin{DoxyCompactList}\small\item\em Motor 2. \end{DoxyCompactList}\item 
\hypertarget{shares_8h_a777c7d499330fafba2cc196945515342}{Task\-Share$<$ volatile uint8\-\_\-t $>$ $\ast$ \hyperlink{shares_8h_a777c7d499330fafba2cc196945515342}{sh\-\_\-encoder\-\_\-new\-\_\-state\-\_\-1}}\label{shares_8h_a777c7d499330fafba2cc196945515342}

\begin{DoxyCompactList}\small\item\em Previous state. \end{DoxyCompactList}\item 
Task\-Share$<$ volatile uint8\-\_\-t $>$ $\ast$ \hyperlink{shares_8h_af00b9d68b516e076df875afe7a1dfe96}{sh\-\_\-encoder\-\_\-old\-\_\-state\-\_\-2}
\begin{DoxyCompactList}\small\item\em Next state. \end{DoxyCompactList}\item 
\hypertarget{shares_8h_a13e98b1ac77ef295fc268c40ce3cc94b}{Task\-Share$<$ volatile uint8\-\_\-t $>$ $\ast$ \hyperlink{shares_8h_a13e98b1ac77ef295fc268c40ce3cc94b}{sh\-\_\-encoder\-\_\-new\-\_\-state\-\_\-2}}\label{shares_8h_a13e98b1ac77ef295fc268c40ce3cc94b}

\begin{DoxyCompactList}\small\item\em Previous state. \end{DoxyCompactList}\item 
\hypertarget{shares_8h_a5e63825c91a8355dce1be62182669167}{Task\-Share$<$ volatile uint16\-\_\-t $>$ $\ast$ \hyperlink{shares_8h_a5e63825c91a8355dce1be62182669167}{sh\-\_\-motor\-\_\-1\-\_\-speed}}\label{shares_8h_a5e63825c91a8355dce1be62182669167}

\begin{DoxyCompactList}\small\item\em Next state. \end{DoxyCompactList}\item 
\hypertarget{shares_8h_a6a429db733438657d6cda4d49a4d8eeb}{Task\-Share$<$ volatile uint16\-\_\-t $>$ $\ast$ \hyperlink{shares_8h_a6a429db733438657d6cda4d49a4d8eeb}{sh\-\_\-motor\-\_\-2\-\_\-speed}}\label{shares_8h_a6a429db733438657d6cda4d49a4d8eeb}

\begin{DoxyCompactList}\small\item\em Motor 1. \end{DoxyCompactList}\item 
Task\-Share$<$ uint16\-\_\-t $>$ $\ast$ \hyperlink{shares_8h_a1c714115d37fc602de04b1e93f2a63ae}{sh\-\_\-encoder\-\_\-error\-\_\-count\-\_\-1}
\begin{DoxyCompactList}\small\item\em Tick jump error count. \end{DoxyCompactList}\item 
\hypertarget{shares_8h_a9ebd2476f8d88889d5a44476ca0db8fc}{Task\-Share$<$ uint16\-\_\-t $>$ $\ast$ {\bfseries sh\-\_\-encoder\-\_\-error\-\_\-count\-\_\-2}}\label{shares_8h_a9ebd2476f8d88889d5a44476ca0db8fc}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
This file contains extern declarations for queues and other inter-\/task data communication objects used in a M\-E405/507/\-Free\-R\-T\-O\-S project.

Revisions\-: \begin{DoxyItemize}
\item 09-\/30-\/2012 J\-R\-R Original file was a one-\/file demonstration with two tasks \item 10-\/05-\/2012 J\-R\-R Split into multiple files, one for each task plus a main one \item 10-\/29-\/2012 J\-R\-R Reorganized with global queue and shared data references \item 01-\/04-\/2014 J\-R\-R Re-\/reorganized, allocating shares with new now \item April 28, 2016 -- B\-K\-K Added shared variables for encoder count, old and new state, error count\end{DoxyItemize}
License\-: This file is copyright 2015 by J\-R Ridgely and released under the Lesser G\-N\-U Public License, version 2. It intended for educational use only, but its use is not limited thereto. T\-H\-I\-S S\-O\-F\-T\-W\-A\-R\-E I\-S P\-R\-O\-V\-I\-D\-E\-D B\-Y T\-H\-E C\-O\-P\-Y\-R\-I\-G\-H\-T H\-O\-L\-D\-E\-R\-S A\-N\-D C\-O\-N\-T\-R\-I\-B\-U\-T\-O\-R\-S \char`\"{}\-A\-S I\-S\char`\"{} A\-N\-D A\-N\-Y E\-X\-P\-R\-E\-S\-S O\-R I\-M\-P\-L\-I\-E\-D W\-A\-R\-R\-A\-N\-T\-I\-E\-S, I\-N\-C\-L\-U\-D\-I\-N\-G, B\-U\-T N\-O\-T L\-I\-M\-I\-T\-E\-D T\-O, T\-H\-E I\-M\-P\-L\-I\-E\-D W\-A\-R\-R\-A\-N\-T\-I\-E\-S O\-F M\-E\-R\-C\-H\-A\-N\-T\-A\-B\-I\-L\-I\-T\-Y A\-N\-D F\-I\-T\-N\-E\-S\-S F\-O\-R A P\-A\-R\-T\-I\-C\-U\-L\-A\-R P\-U\-R\-P\-O\-S\-E A\-R\-E D\-I\-S\-C\-L\-A\-I\-M\-E\-D. I\-N N\-O E\-V\-E\-N\-T S\-H\-A\-L\-L T\-H\-E C\-O\-P\-Y\-R\-I\-G\-H\-T O\-W\-N\-E\-R O\-R C\-O\-N\-T\-R\-I\-B\-U\-T\-O\-R\-S B\-E L\-I\-A\-B\-L\-E F\-O\-R A\-N\-Y D\-I\-R\-E\-C\-T, I\-N\-D\-I\-R\-E\-C\-T, I\-N\-C\-I\-D\-E\-N\-T\-A\-L, S\-P\-E\-C\-I\-A\-L, E\-X\-E\-M\-P\-L\-A\-R\-Y, O\-R C\-O\-N\-S\-E\-Q\-U\-E\-N\-T\-I\-A\-L D\-A\-M\-A\-G\-E\-S (I\-N\-C\-L\-U\-D\-I\-N\-G, B\-U\-T N\-O\-T L\-I\-M\-I\-T\-E\-D T\-O, P\-R\-O\-C\-U\-R\-E\-M\-E\-N\-T O\-F S\-U\-B\-S\-T\-I\-T\-U\-T\-E G\-O\-O\-D\-S O\-R S\-E\-R\-V\-I\-C\-E\-S; L\-O\-S\-S O\-F U\-S\-E, D\-A\-T\-A, O\-R P\-R\-O\-F\-I\-T\-S; O\-R B\-U\-S\-I\-N\-E\-S\-S I\-N\-T\-E\-R\-R\-U\-P\-T\-I\-O\-N) H\-O\-W\-E\-V\-E\-R C\-A\-U\-S\-E\-D A\-N\-D O\-N A\-N\-Y T\-H\-E\-O\-R\-Y O\-F L\-I\-A\-B\-I\-L\-I\-T\-Y, W\-H\-E\-T\-H\-E\-R I\-N C\-O\-N\-T\-R\-A\-C\-T, S\-T\-R\-I\-C\-T L\-I\-A\-B\-I\-L\-I\-T\-Y, O\-R T\-O\-R\-T (I\-N\-C\-L\-U\-D\-I\-N\-G N\-E\-G\-L\-I\-G\-E\-N\-C\-E O\-R O\-T\-H\-E\-R\-W\-I\-S\-E) A\-R\-I\-S\-I\-N\-G I\-N A\-N\-Y W\-A\-Y O\-U\-T O\-F T\-H\-E U\-S\-E O\-F T\-H\-I\-S S\-O\-F\-T\-W\-A\-R\-E, E\-V\-E\-N I\-F A\-D\-V\-I\-S\-E\-D O\-F T\-H\-E P\-O\-S\-S\-I\-B\-I\-L\-I\-T\-Y O\-F S\-U\-C\-H D\-A\-M\-A\-G\-E. 

Definition in file \hyperlink{shares_8h_source}{shares.\-h}.



\subsection{Variable Documentation}
\hypertarget{shares_8h_acd99bf5d187d4809af2f460a5415e904}{\index{shares.\-h@{shares.\-h}!p\-\_\-print\-\_\-ser\-\_\-queue@{p\-\_\-print\-\_\-ser\-\_\-queue}}
\index{p\-\_\-print\-\_\-ser\-\_\-queue@{p\-\_\-print\-\_\-ser\-\_\-queue}!shares.h@{shares.\-h}}
\subsubsection[{p\-\_\-print\-\_\-ser\-\_\-queue}]{\setlength{\rightskip}{0pt plus 5cm}Text\-Queue$\ast$ p\-\_\-print\-\_\-ser\-\_\-queue}}\label{shares_8h_acd99bf5d187d4809af2f460a5415e904}


This define prevents this .h file from being included multiple times in a .cpp file. 

Externs\-: In this section, we declare variables and functions that are used in all (or at least two) of the files in the data acquisition project. Each of these items will also be declared exactly once, without the keyword 'extern', in one .cpp file as well as being declared extern here. This queue allows tasks to send characters to the user interface task for display.

This is a print queue, descended from {\ttfamily emstream} so that things can be printed into the queue using the \char`\"{}$<$$<$\char`\"{} operator and they'll come out the other end as a stream of characters. It's used by tasks that send things to the user interface task to be printed. 

Definition at line 66 of file main.\-cpp.



Referenced by main(), and task\-\_\-user\-::run().

\hypertarget{shares_8h_a1c714115d37fc602de04b1e93f2a63ae}{\index{shares.\-h@{shares.\-h}!sh\-\_\-encoder\-\_\-error\-\_\-count\-\_\-1@{sh\-\_\-encoder\-\_\-error\-\_\-count\-\_\-1}}
\index{sh\-\_\-encoder\-\_\-error\-\_\-count\-\_\-1@{sh\-\_\-encoder\-\_\-error\-\_\-count\-\_\-1}!shares.h@{shares.\-h}}
\subsubsection[{sh\-\_\-encoder\-\_\-error\-\_\-count\-\_\-1}]{\setlength{\rightskip}{0pt plus 5cm}Task\-Share$<$uint16\-\_\-t$>$$\ast$ sh\-\_\-encoder\-\_\-error\-\_\-count\-\_\-1}}\label{shares_8h_a1c714115d37fc602de04b1e93f2a63ae}


Tick jump error count. 

Motor 2 

Definition at line 88 of file main.\-cpp.



Referenced by I\-S\-R(), and main().

\hypertarget{shares_8h_a1b679af79d73c380a7f0b4d49dcbc755}{\index{shares.\-h@{shares.\-h}!sh\-\_\-encoder\-\_\-old\-\_\-state\-\_\-1@{sh\-\_\-encoder\-\_\-old\-\_\-state\-\_\-1}}
\index{sh\-\_\-encoder\-\_\-old\-\_\-state\-\_\-1@{sh\-\_\-encoder\-\_\-old\-\_\-state\-\_\-1}!shares.h@{shares.\-h}}
\subsubsection[{sh\-\_\-encoder\-\_\-old\-\_\-state\-\_\-1}]{\setlength{\rightskip}{0pt plus 5cm}Task\-Share$<$volatile uint8\-\_\-t$>$$\ast$ sh\-\_\-encoder\-\_\-old\-\_\-state\-\_\-1}}\label{shares_8h_a1b679af79d73c380a7f0b4d49dcbc755}


Motor 2. 

Motor 1 encoder states 

Definition at line 82 of file main.\-cpp.



Referenced by encoder\-\_\-drv\-::encoder\-\_\-drv(), I\-S\-R(), and main().

\hypertarget{shares_8h_af00b9d68b516e076df875afe7a1dfe96}{\index{shares.\-h@{shares.\-h}!sh\-\_\-encoder\-\_\-old\-\_\-state\-\_\-2@{sh\-\_\-encoder\-\_\-old\-\_\-state\-\_\-2}}
\index{sh\-\_\-encoder\-\_\-old\-\_\-state\-\_\-2@{sh\-\_\-encoder\-\_\-old\-\_\-state\-\_\-2}!shares.h@{shares.\-h}}
\subsubsection[{sh\-\_\-encoder\-\_\-old\-\_\-state\-\_\-2}]{\setlength{\rightskip}{0pt plus 5cm}Task\-Share$<$volatile uint8\-\_\-t$>$$\ast$ sh\-\_\-encoder\-\_\-old\-\_\-state\-\_\-2}}\label{shares_8h_af00b9d68b516e076df875afe7a1dfe96}


Next state. 

Motor 2 encoder states 

Definition at line 85 of file main.\-cpp.



Referenced by encoder\-\_\-drv\-::encoder\-\_\-drv(), I\-S\-R(), and main().

