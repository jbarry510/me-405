\hypertarget{classpid}{\section{pid Class Reference}
\label{classpid}\index{pid@{pid}}
}


This class runs a 16-\/bit fixed point P\-I\-D.  




{\ttfamily \#include $<$pid.\-h$>$}

\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structpid_1_1config}{config}
\begin{DoxyCompactList}\small\item\em This struct defines a pid configuration. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{classpid_ae300b76b8ca84b4e1f31500d843b61c5}{mode} \{ \\*
\hyperlink{classpid_ae300b76b8ca84b4e1f31500d843b61c5a3442f51b9d005da09c503db8fc04c87e}{O\-F\-F} = (0x00$<$$<$0), 
\hyperlink{classpid_ae300b76b8ca84b4e1f31500d843b61c5ab6e3780aa2acb802e55938be52071479}{P} = (0x01$<$$<$0), 
\hyperlink{classpid_ae300b76b8ca84b4e1f31500d843b61c5a181d6db28b66c2004cc031ddd1bdc250}{P\-I} = (0x02$<$$<$0), 
\hyperlink{classpid_ae300b76b8ca84b4e1f31500d843b61c5a2c3bf3e1c762f262d308657940ec0e44}{P\-D} = (0x03$<$$<$0), 
\\*
\hyperlink{classpid_ae300b76b8ca84b4e1f31500d843b61c5a3f486378a0db9447a3cc7dd3d0bbfe81}{P\-I\-D} = (0x04$<$$<$0), 
\hyperlink{classpid_ae300b76b8ca84b4e1f31500d843b61c5afb96a9929ef61cb7fd7b00a6e71106b2}{M\-A\-N\-U\-A\-L} = (0x05$<$$<$0)
 \}
\begin{DoxyCompactList}\small\item\em This enumeration defines possible modes of operation. \end{DoxyCompactList}\item 
\hypertarget{classpid_a22af7b8da10bf9878ae85f6a90991054}{typedef enum \hyperlink{classpid_ae300b76b8ca84b4e1f31500d843b61c5}{pid\-::mode} \hyperlink{classpid_a22af7b8da10bf9878ae85f6a90991054}{mode\-\_\-t}}\label{classpid_a22af7b8da10bf9878ae85f6a90991054}

\begin{DoxyCompactList}\small\item\em This enumeration defines possible modes of operation. \end{DoxyCompactList}\item 
\hypertarget{classpid_a13d711458f38f6f9e39baa39a6353a1f}{typedef struct \hyperlink{structpid_1_1config}{pid\-::config} \hyperlink{classpid_a13d711458f38f6f9e39baa39a6353a1f}{config\-\_\-t}}\label{classpid_a13d711458f38f6f9e39baa39a6353a1f}

\begin{DoxyCompactList}\small\item\em This struct defines a pid configuration. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classpid_ae23b02fef4dc3008c53dd87d898f3eff}{pid} (emstream $\ast$)
\begin{DoxyCompactList}\small\item\em This constructor sets up a 16-\/bit P\-I\-D controller. \end{DoxyCompactList}\item 
void \hyperlink{classpid_a56146496ee1acb961defceee95b7d0ce}{set\-\_\-mode} (\hyperlink{classpid_a22af7b8da10bf9878ae85f6a90991054}{mode\-\_\-t} \hyperlink{classpid_ae300b76b8ca84b4e1f31500d843b61c5}{mode})
\begin{DoxyCompactList}\small\item\em This method sets the P\-I\-D mode. \end{DoxyCompactList}\item 
void \hyperlink{classpid_aed4673f6646f44b2ee10564ad03d5033}{set\-\_\-input} (int16\-\_\-t \hyperlink{classpid_a496c88939ef50c0f0664a1d184d6b103}{input})
\begin{DoxyCompactList}\small\item\em Updates the input to the P\-I\-D, the value we are trying to control. \end{DoxyCompactList}\item 
void \hyperlink{classpid_ae2b2fdf0933f9d62a7cb10042296c91a}{set\-\_\-output} (int16\-\_\-t \hyperlink{classpid_a3954e25d8e47ad0b6e748d2e5b3680ff}{output})
\begin{DoxyCompactList}\small\item\em Manually updates the control output value. \end{DoxyCompactList}\item 
void \hyperlink{classpid_a3d06be98332b1bdef6175a56dae019c2}{set\-\_\-setpoint} (int16\-\_\-t \hyperlink{classpid_abed7eadc6bfaee99b3d5ba374a4a8389}{setpoint})
\begin{DoxyCompactList}\small\item\em Updates the set-\/point for the P\-I\-D. \end{DoxyCompactList}\item 
void \hyperlink{classpid_a7f092a6e847b3d3ec2b35161a1c1a933}{set\-\_\-config} (\hyperlink{classpid_a13d711458f38f6f9e39baa39a6353a1f}{config\-\_\-t} \hyperlink{structpid_1_1config}{config})
\begin{DoxyCompactList}\small\item\em Updates the P\-I\-D configuration and clears esum, resetting the P\-I\-D controller. \end{DoxyCompactList}\item 
void \hyperlink{classpid_adef385c61aa547f8cff8ec95c9a37b72}{set\-\_\-\-Kp} (int16\-\_\-t Kp)
\begin{DoxyCompactList}\small\item\em Updates the proportional gain. \end{DoxyCompactList}\item 
void \hyperlink{classpid_a81c384e57c6a8ff97d4baf1f9cd04b9e}{set\-\_\-\-Ki} (int16\-\_\-t Ki)
\begin{DoxyCompactList}\small\item\em Updates the integral gain. \end{DoxyCompactList}\item 
void \hyperlink{classpid_a363680a4d29f3bd7ffb132e5a90cb10c}{set\-\_\-\-Kd} (int16\-\_\-t Kd)
\begin{DoxyCompactList}\small\item\em Updates the derivative gain. \end{DoxyCompactList}\item 
void \hyperlink{classpid_ad125031ba4fe5b30657259689e726768}{set\-\_\-\-Kw} (int16\-\_\-t Kw)
\begin{DoxyCompactList}\small\item\em Updates the anti-\/windup gain. \end{DoxyCompactList}\item 
void \hyperlink{classpid_a2953f2df6e262b7c04443943607aadf5}{set\-\_\-saturator} (int16\-\_\-t min, int16\-\_\-t max)
\begin{DoxyCompactList}\small\item\em Updates the upper and lower saturator values. \end{DoxyCompactList}\item 
\hyperlink{classpid_a22af7b8da10bf9878ae85f6a90991054}{mode\-\_\-t} \hyperlink{classpid_aeea9fa7d073c56415ed8aaec6cb8ce95}{get\-\_\-mode} ()
\begin{DoxyCompactList}\small\item\em Gets the current mode of the P\-I\-D. \end{DoxyCompactList}\item 
int16\-\_\-t \hyperlink{classpid_a6e4adafe020340b1d3630277db554c90}{get\-\_\-input} ()
\begin{DoxyCompactList}\small\item\em Gets the current value of the parameter being controlled by the P\-I\-D. \end{DoxyCompactList}\item 
int16\-\_\-t \hyperlink{classpid_a76cf4bd65ac9eabbcc8966b9bc11856f}{get\-\_\-output} ()
\begin{DoxyCompactList}\small\item\em Gets the controller output value. \end{DoxyCompactList}\item 
int16\-\_\-t \hyperlink{classpid_a931b4c277b03a558f60719d98cec617e}{get\-\_\-setpoint} ()
\begin{DoxyCompactList}\small\item\em Gets the current P\-I\-D setpoint value. \end{DoxyCompactList}\item 
\hyperlink{classpid_a13d711458f38f6f9e39baa39a6353a1f}{config\-\_\-t} \hyperlink{classpid_a5e72d4cd6300ef299bb0472b596003c0}{get\-\_\-config} ()
\begin{DoxyCompactList}\small\item\em Gets the controller configuration. \end{DoxyCompactList}\item 
int16\-\_\-t \hyperlink{classpid_aeb1df91805eb236df24ca9b09273dc83}{get\-\_\-\-Kp} ()
\begin{DoxyCompactList}\small\item\em Gets the proportional gain. \end{DoxyCompactList}\item 
int16\-\_\-t \hyperlink{classpid_a771503b4f0b63aa2a08a95513b66f519}{get\-\_\-\-Ki} ()
\begin{DoxyCompactList}\small\item\em Gets the integral gain. \end{DoxyCompactList}\item 
int16\-\_\-t \hyperlink{classpid_af02d787d3cb2dbb650a0c00235eb2cfd}{get\-\_\-\-Kd} ()
\begin{DoxyCompactList}\small\item\em Gets the derivative gain. \end{DoxyCompactList}\item 
int16\-\_\-t \hyperlink{classpid_a64cef8db32b82baded7a1444976d60ba}{get\-\_\-\-Kw} ()
\begin{DoxyCompactList}\small\item\em Gets the anti-\/windup gain. \end{DoxyCompactList}\item 
int16\-\_\-t \hyperlink{classpid_a1b4d0f306e84ac160ba79cebba739464}{get\-\_\-saturator\-\_\-min} ()
\begin{DoxyCompactList}\small\item\em Gets the saturator minimum. \end{DoxyCompactList}\item 
int16\-\_\-t \hyperlink{classpid_afc073a6a9f5cbd1b01946b83d68a3a04}{get\-\_\-saturator\-\_\-max} ()
\begin{DoxyCompactList}\small\item\em Gets the saturator maximum. \end{DoxyCompactList}\item 
int16\-\_\-t \hyperlink{classpid_afa843ac964cf25eded9d2a80ef2b9ceb}{compute} ()
\begin{DoxyCompactList}\small\item\em Computes the new P\-I\-D output value. \end{DoxyCompactList}\item 
int16\-\_\-t \hyperlink{classpid_a3b7a6f92486d7715fbc8c52bc7c51e7c}{compute} (int16\-\_\-t new\-\_\-input, int16\-\_\-t new\-\_\-setpoint)
\begin{DoxyCompactList}\small\item\em Computes the new P\-I\-D output value. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classpid_a1b4d36263c6184e3390b4f3785e8452e}{emstream $\ast$ \hyperlink{classpid_a1b4d36263c6184e3390b4f3785e8452e}{p\-\_\-serial}}\label{classpid_a1b4d36263c6184e3390b4f3785e8452e}

\begin{DoxyCompactList}\small\item\em Serial port pointer, used to say hello. \end{DoxyCompactList}\item 
\hypertarget{classpid_a3537dd419afdadb7129499c9863f19d9}{\hyperlink{classpid_a13d711458f38f6f9e39baa39a6353a1f}{config\-\_\-t} \hyperlink{classpid_a3537dd419afdadb7129499c9863f19d9}{config}}\label{classpid_a3537dd419afdadb7129499c9863f19d9}

\begin{DoxyCompactList}\small\item\em {\ttfamily config\-\_\-t} containing P\-I\-D parameters \end{DoxyCompactList}\item 
\hypertarget{classpid_a496c88939ef50c0f0664a1d184d6b103}{int16\-\_\-t \hyperlink{classpid_a496c88939ef50c0f0664a1d184d6b103}{input}}\label{classpid_a496c88939ef50c0f0664a1d184d6b103}

\begin{DoxyCompactList}\small\item\em The value being controlled. \end{DoxyCompactList}\item 
\hypertarget{classpid_a3954e25d8e47ad0b6e748d2e5b3680ff}{int16\-\_\-t \hyperlink{classpid_a3954e25d8e47ad0b6e748d2e5b3680ff}{output}}\label{classpid_a3954e25d8e47ad0b6e748d2e5b3680ff}

\begin{DoxyCompactList}\small\item\em The controller output. \end{DoxyCompactList}\item 
\hypertarget{classpid_abed7eadc6bfaee99b3d5ba374a4a8389}{int16\-\_\-t \hyperlink{classpid_abed7eadc6bfaee99b3d5ba374a4a8389}{setpoint}}\label{classpid_abed7eadc6bfaee99b3d5ba374a4a8389}

\begin{DoxyCompactList}\small\item\em Desired reference value for input. \end{DoxyCompactList}\item 
\hypertarget{classpid_a5c9f4364aad5f60f89c10e2fac7deacd}{int16\-\_\-t \hyperlink{classpid_a5c9f4364aad5f60f89c10e2fac7deacd}{error}}\label{classpid_a5c9f4364aad5f60f89c10e2fac7deacd}

\begin{DoxyCompactList}\small\item\em Error. \end{DoxyCompactList}\item 
\hypertarget{classpid_a02fdd387695c12447f66cd9d3d5771cf}{int16\-\_\-t \hyperlink{classpid_a02fdd387695c12447f66cd9d3d5771cf}{linput}}\label{classpid_a02fdd387695c12447f66cd9d3d5771cf}

\begin{DoxyCompactList}\small\item\em Last input to use for derivative computation. \end{DoxyCompactList}\item 
\hypertarget{classpid_a3d8d755e11f71312873193173a67f4b4}{int16\-\_\-t \hyperlink{classpid_a3d8d755e11f71312873193173a67f4b4}{dinput}}\label{classpid_a3d8d755e11f71312873193173a67f4b4}

\begin{DoxyCompactList}\small\item\em Difference in input value for derivative gain. \end{DoxyCompactList}\item 
\hypertarget{classpid_ac261e7593e0e5f1ded5de243e87ade2b}{int16\-\_\-t \hyperlink{classpid_ac261e7593e0e5f1ded5de243e87ade2b}{esum}}\label{classpid_ac261e7593e0e5f1ded5de243e87ade2b}

\begin{DoxyCompactList}\small\item\em Error Sum. \end{DoxyCompactList}\item 
\hypertarget{classpid_aa3fbfe3ad49d8a00ccf7b20b5e596c56}{int16\-\_\-t \hyperlink{classpid_aa3fbfe3ad49d8a00ccf7b20b5e596c56}{saturation}}\label{classpid_aa3fbfe3ad49d8a00ccf7b20b5e596c56}

\begin{DoxyCompactList}\small\item\em Saturator value. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
This class runs a 16-\/bit fixed point P\-I\-D. 

The P\-I\-D controller can run in P, P\-I, P\-D, P\-I\-D, and manual modes. When the integral action is used, a fourth gain, Kw can be used to help eliminate windup problems. To help with reset spikes, the difference computed for the derivative action is on the input value, not the error. The block diagram below shows the entirety of the controller and it's context with respect to the plant. The {\ttfamily input} and {\ttfamily output} attributes are from the {\itshape controller's} perspective, not the plant. That is, {\ttfamily input} is the output of the plant into the controller and {\ttfamily output} is the input to the plant from the controller.\par
\begin{DoxyVerb}                               PID CONTROLLER w/ ANTI-WINDUP 
            ##################################################################
            #                          +------+                              #
            #                          |      |                              #
            #                    +-----+  Kw  <--------------------+         #
            #                    |     |      |                 +--+--+      #
            #                 (-)|     +------+              (+)|     |(-)   #
            #                 +--v--+  +------+             +--->  Σ  <---+  #
            #              (+)|     |  |      |             |   |     |   |  #
            #              +-->  Σ  +--> Ki/s +-------+     |   +-----+   |  #
            #              |  |     |  |      |       |     |             |  #
            #              |  +-----+  +------+       |(+)  |        MAX  |  #
            #     +-----+  |           +------+    +--v--+  |  +-------+  |  #        +------ +
  SETPOINT  #  (+)|     |  |           |      | (+)|     |  |  |    -- |  |  # OUTPUT |       |
  ---------->----->  Σ  +--+----------->  Kp  +---->  Σ  +--+-->   /   +--+--+--------> PLANT +----+------>
            #     |     |              |      |    |     |     | --    |     #        |       |    |
            #     +--^--+              +------+    +--^--+     +-------+     #        +------ +    |
            #     (-)|                 +------+    (+)|        MIN           #                     |
  INPUT     #        |                 |      |       |                      #                     |
  +--------->------- +-----------------> Kd*s +-------+                      #                     |
  |         #                          |      |                              #                     |
  |         #                          +------+                              #                     |
  |         ##################################################################                     |
  +------------------------------------------------------------------------------------------------+
\end{DoxyVerb}
 To use the pid controller you must first call the constructor with a pointer to a serial object.\par
 {\ttfamily pid$\ast$} {\ttfamily motor\-\_\-pid} {\ttfamily =} {\ttfamily new} {\ttfamily \hyperlink{classpid}{pid(p\-\_\-serial)}}; \par
 The system parameters must then be set. This can be done using the individual set function for each parameter, or all at once using a configuration struct. For example, we can set the controller to P\-I mode with gains Ki=5, Kp=2, and Kw=1. Remember that the gains are entered as 1024 times the desired gain to increase resolution. Additionally, we will set the output saturator values to +/-\/ 1600. \par
 {\ttfamily motor\-\_\-pid-\/$>$set\-\_\-config}(\hyperlink{classpid_a13d711458f38f6f9e39baa39a6353a1f}{pid\-::config\-\_\-t}\{P\-I,5120,2048,0,1024,-\/1600,1600\});\par
 Now, to run the P\-I\-D, we must call \hyperlink{classpid_afa843ac964cf25eded9d2a80ef2b9ceb}{compute()} inside a loop (probably a task) running at a fixed interval. Changing the delay of the task will change the effect of the Ki and Kd gains. Suppose we have three {\ttfamily int16\-\_\-t} shares {\ttfamily motor\-\_\-speed}, {\ttfamily motor\-\_\-setpoint}, and {\ttfamily motor\-\_\-power}. We can easily run the P\-I\-D in one line.\par
 {\ttfamily motor\-\_\-power-\/$>$put}(motor\-\_\-pid-\/$>$compute(motor\-\_\-speed-\/$>$get(),motor\-\_\-setpoint-\/$>$get()));\par


Definition at line 81 of file pid.\-h.



\subsection{Member Enumeration Documentation}
\hypertarget{classpid_ae300b76b8ca84b4e1f31500d843b61c5}{\index{pid@{pid}!mode@{mode}}
\index{mode@{mode}!pid@{pid}}
\subsubsection[{mode}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf pid\-::mode}}}\label{classpid_ae300b76b8ca84b4e1f31500d843b61c5}


This enumeration defines possible modes of operation. 

\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{O\-F\-F@{O\-F\-F}!pid@{pid}}\index{pid@{pid}!O\-F\-F@{O\-F\-F}}\item[{\em 
\hypertarget{classpid_ae300b76b8ca84b4e1f31500d843b61c5a3442f51b9d005da09c503db8fc04c87e}{O\-F\-F}\label{classpid_ae300b76b8ca84b4e1f31500d843b61c5a3442f51b9d005da09c503db8fc04c87e}
}]Output is zero \index{P@{P}!pid@{pid}}\index{pid@{pid}!P@{P}}\item[{\em 
\hypertarget{classpid_ae300b76b8ca84b4e1f31500d843b61c5ab6e3780aa2acb802e55938be52071479}{P}\label{classpid_ae300b76b8ca84b4e1f31500d843b61c5ab6e3780aa2acb802e55938be52071479}
}]Proportional action only \index{P\-I@{P\-I}!pid@{pid}}\index{pid@{pid}!P\-I@{P\-I}}\item[{\em 
\hypertarget{classpid_ae300b76b8ca84b4e1f31500d843b61c5a181d6db28b66c2004cc031ddd1bdc250}{P\-I}\label{classpid_ae300b76b8ca84b4e1f31500d843b61c5a181d6db28b66c2004cc031ddd1bdc250}
}]Proportional and integral action \index{P\-D@{P\-D}!pid@{pid}}\index{pid@{pid}!P\-D@{P\-D}}\item[{\em 
\hypertarget{classpid_ae300b76b8ca84b4e1f31500d843b61c5a2c3bf3e1c762f262d308657940ec0e44}{P\-D}\label{classpid_ae300b76b8ca84b4e1f31500d843b61c5a2c3bf3e1c762f262d308657940ec0e44}
}]Proportional and derivative action \index{P\-I\-D@{P\-I\-D}!pid@{pid}}\index{pid@{pid}!P\-I\-D@{P\-I\-D}}\item[{\em 
\hypertarget{classpid_ae300b76b8ca84b4e1f31500d843b61c5a3f486378a0db9447a3cc7dd3d0bbfe81}{P\-I\-D}\label{classpid_ae300b76b8ca84b4e1f31500d843b61c5a3f486378a0db9447a3cc7dd3d0bbfe81}
}]Full P\-I\-D action \index{M\-A\-N\-U\-A\-L@{M\-A\-N\-U\-A\-L}!pid@{pid}}\index{pid@{pid}!M\-A\-N\-U\-A\-L@{M\-A\-N\-U\-A\-L}}\item[{\em 
\hypertarget{classpid_ae300b76b8ca84b4e1f31500d843b61c5afb96a9929ef61cb7fd7b00a6e71106b2}{M\-A\-N\-U\-A\-L}\label{classpid_ae300b76b8ca84b4e1f31500d843b61c5afb96a9929ef61cb7fd7b00a6e71106b2}
}]Output can be updated manually using {\ttfamily \hyperlink{classpid_ae2b2fdf0933f9d62a7cb10042296c91a}{set\-\_\-output()}} \end{description}
\end{Desc}


Definition at line 89 of file pid.\-h.



\subsection{Constructor \& Destructor Documentation}
\hypertarget{classpid_ae23b02fef4dc3008c53dd87d898f3eff}{\index{pid@{pid}!pid@{pid}}
\index{pid@{pid}!pid@{pid}}
\subsubsection[{pid}]{\setlength{\rightskip}{0pt plus 5cm}pid\-::pid (
\begin{DoxyParamCaption}
\item[{emstream $\ast$}]{p\-\_\-serial\-\_\-port}
\end{DoxyParamCaption}
)}}\label{classpid_ae23b02fef4dc3008c53dd87d898f3eff}


This constructor sets up a 16-\/bit P\-I\-D controller. 

The pid is initialized off with all gains set to 0 
\begin{DoxyParams}{Parameters}
{\em p\-\_\-serial\-\_\-port} & A pointer to the serial port which writes debugging info. \\
\hline
\end{DoxyParams}


Definition at line 31 of file pid.\-cpp.



References O\-F\-F.



\subsection{Member Function Documentation}
\hypertarget{classpid_afa843ac964cf25eded9d2a80ef2b9ceb}{\index{pid@{pid}!compute@{compute}}
\index{compute@{compute}!pid@{pid}}
\subsubsection[{compute}]{\setlength{\rightskip}{0pt plus 5cm}int16\-\_\-t pid\-::compute (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classpid_afa843ac964cf25eded9d2a80ef2b9ceb}


Computes the new P\-I\-D output value. 

This method forces the controller to recompute without updating the input or setpoint 

Definition at line 269 of file pid.\-cpp.



References dinput, error, esum, input, pid\-::config\-::\-Kd, pid\-::config\-::\-Ki, pid\-::config\-::\-Kp, pid\-::config\-::\-Kw, M\-A\-N\-U\-A\-L, pid\-::config\-::max, pid\-::config\-::min, pid\-::config\-::mode, O\-F\-F, output, P, P\-D, P\-I, P\-I\-D, saturation, setpoint, ssadd, ssdiv, ssmul, and sssub.



Referenced by compute().

\hypertarget{classpid_a3b7a6f92486d7715fbc8c52bc7c51e7c}{\index{pid@{pid}!compute@{compute}}
\index{compute@{compute}!pid@{pid}}
\subsubsection[{compute}]{\setlength{\rightskip}{0pt plus 5cm}int16\-\_\-t pid\-::compute (
\begin{DoxyParamCaption}
\item[{int16\-\_\-t}]{new\-\_\-input, }
\item[{int16\-\_\-t}]{new\-\_\-setpoint}
\end{DoxyParamCaption}
)}}\label{classpid_a3b7a6f92486d7715fbc8c52bc7c51e7c}


Computes the new P\-I\-D output value. 

This method uses new actual and reference values to compute the controller output value. The mode and gain settings are considered during the calculation. 
\begin{DoxyParams}{Parameters}
{\em new\-\_\-input} & The new input for the controller. This is the value being controlled \\
\hline
{\em new\-\_\-setpoint} & The new setpoint for the controlller. This is the desired value for the input. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The new output of the P\-I\-D 
\end{DoxyReturn}


Definition at line 258 of file pid.\-cpp.



References compute(), set\-\_\-input(), and set\-\_\-setpoint().

\hypertarget{classpid_a5e72d4cd6300ef299bb0472b596003c0}{\index{pid@{pid}!get\-\_\-config@{get\-\_\-config}}
\index{get\-\_\-config@{get\-\_\-config}!pid@{pid}}
\subsubsection[{get\-\_\-config}]{\setlength{\rightskip}{0pt plus 5cm}{\bf pid\-::config\-\_\-t} pid\-::get\-\_\-config (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classpid_a5e72d4cd6300ef299bb0472b596003c0}


Gets the controller configuration. 

\begin{DoxyReturn}{Returns}
Current controller configuration 
\end{DoxyReturn}


Definition at line 191 of file pid.\-cpp.



References config.

\hypertarget{classpid_a6e4adafe020340b1d3630277db554c90}{\index{pid@{pid}!get\-\_\-input@{get\-\_\-input}}
\index{get\-\_\-input@{get\-\_\-input}!pid@{pid}}
\subsubsection[{get\-\_\-input}]{\setlength{\rightskip}{0pt plus 5cm}int16\-\_\-t pid\-::get\-\_\-input (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classpid_a6e4adafe020340b1d3630277db554c90}


Gets the current value of the parameter being controlled by the P\-I\-D. 

\begin{DoxyReturn}{Returns}
Input (value being controlled) 
\end{DoxyReturn}


Definition at line 164 of file pid.\-cpp.



References input.

\hypertarget{classpid_af02d787d3cb2dbb650a0c00235eb2cfd}{\index{pid@{pid}!get\-\_\-\-Kd@{get\-\_\-\-Kd}}
\index{get\-\_\-\-Kd@{get\-\_\-\-Kd}!pid@{pid}}
\subsubsection[{get\-\_\-\-Kd}]{\setlength{\rightskip}{0pt plus 5cm}int16\-\_\-t pid\-::get\-\_\-\-Kd (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classpid_af02d787d3cb2dbb650a0c00235eb2cfd}


Gets the derivative gain. 

\begin{DoxyReturn}{Returns}
derivative gain 
\end{DoxyReturn}


Definition at line 218 of file pid.\-cpp.



References pid\-::config\-::\-Kd.



Referenced by operator$<$$<$().

\hypertarget{classpid_a771503b4f0b63aa2a08a95513b66f519}{\index{pid@{pid}!get\-\_\-\-Ki@{get\-\_\-\-Ki}}
\index{get\-\_\-\-Ki@{get\-\_\-\-Ki}!pid@{pid}}
\subsubsection[{get\-\_\-\-Ki}]{\setlength{\rightskip}{0pt plus 5cm}int16\-\_\-t pid\-::get\-\_\-\-Ki (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classpid_a771503b4f0b63aa2a08a95513b66f519}


Gets the integral gain. 

\begin{DoxyReturn}{Returns}
Integral gain 
\end{DoxyReturn}


Definition at line 200 of file pid.\-cpp.



References pid\-::config\-::\-Ki.



Referenced by operator$<$$<$().

\hypertarget{classpid_aeb1df91805eb236df24ca9b09273dc83}{\index{pid@{pid}!get\-\_\-\-Kp@{get\-\_\-\-Kp}}
\index{get\-\_\-\-Kp@{get\-\_\-\-Kp}!pid@{pid}}
\subsubsection[{get\-\_\-\-Kp}]{\setlength{\rightskip}{0pt plus 5cm}int16\-\_\-t pid\-::get\-\_\-\-Kp (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classpid_aeb1df91805eb236df24ca9b09273dc83}


Gets the proportional gain. 

\begin{DoxyReturn}{Returns}
Propotional gain 
\end{DoxyReturn}


Definition at line 209 of file pid.\-cpp.



References pid\-::config\-::\-Kp.



Referenced by operator$<$$<$().

\hypertarget{classpid_a64cef8db32b82baded7a1444976d60ba}{\index{pid@{pid}!get\-\_\-\-Kw@{get\-\_\-\-Kw}}
\index{get\-\_\-\-Kw@{get\-\_\-\-Kw}!pid@{pid}}
\subsubsection[{get\-\_\-\-Kw}]{\setlength{\rightskip}{0pt plus 5cm}int16\-\_\-t pid\-::get\-\_\-\-Kw (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classpid_a64cef8db32b82baded7a1444976d60ba}


Gets the anti-\/windup gain. 

\begin{DoxyReturn}{Returns}
Anti-\/windup gain 
\end{DoxyReturn}


Definition at line 227 of file pid.\-cpp.



References pid\-::config\-::\-Kw.



Referenced by operator$<$$<$().

\hypertarget{classpid_aeea9fa7d073c56415ed8aaec6cb8ce95}{\index{pid@{pid}!get\-\_\-mode@{get\-\_\-mode}}
\index{get\-\_\-mode@{get\-\_\-mode}!pid@{pid}}
\subsubsection[{get\-\_\-mode}]{\setlength{\rightskip}{0pt plus 5cm}{\bf pid\-::mode\-\_\-t} pid\-::get\-\_\-mode (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classpid_aeea9fa7d073c56415ed8aaec6cb8ce95}


Gets the current mode of the P\-I\-D. 

\begin{DoxyReturn}{Returns}
The current P\-I\-D mode 
\end{DoxyReturn}


Definition at line 155 of file pid.\-cpp.



References pid\-::config\-::mode.



Referenced by operator$<$$<$().

\hypertarget{classpid_a76cf4bd65ac9eabbcc8966b9bc11856f}{\index{pid@{pid}!get\-\_\-output@{get\-\_\-output}}
\index{get\-\_\-output@{get\-\_\-output}!pid@{pid}}
\subsubsection[{get\-\_\-output}]{\setlength{\rightskip}{0pt plus 5cm}int16\-\_\-t pid\-::get\-\_\-output (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classpid_a76cf4bd65ac9eabbcc8966b9bc11856f}


Gets the controller output value. 

\begin{DoxyReturn}{Returns}
Current controller output 
\end{DoxyReturn}


Definition at line 173 of file pid.\-cpp.



References output.

\hypertarget{classpid_afc073a6a9f5cbd1b01946b83d68a3a04}{\index{pid@{pid}!get\-\_\-saturator\-\_\-max@{get\-\_\-saturator\-\_\-max}}
\index{get\-\_\-saturator\-\_\-max@{get\-\_\-saturator\-\_\-max}!pid@{pid}}
\subsubsection[{get\-\_\-saturator\-\_\-max}]{\setlength{\rightskip}{0pt plus 5cm}int16\-\_\-t pid\-::get\-\_\-saturator\-\_\-max (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classpid_afc073a6a9f5cbd1b01946b83d68a3a04}


Gets the saturator maximum. 

\begin{DoxyReturn}{Returns}
Maximal controller output value 
\end{DoxyReturn}


Definition at line 245 of file pid.\-cpp.



References pid\-::config\-::max.



Referenced by operator$<$$<$().

\hypertarget{classpid_a1b4d0f306e84ac160ba79cebba739464}{\index{pid@{pid}!get\-\_\-saturator\-\_\-min@{get\-\_\-saturator\-\_\-min}}
\index{get\-\_\-saturator\-\_\-min@{get\-\_\-saturator\-\_\-min}!pid@{pid}}
\subsubsection[{get\-\_\-saturator\-\_\-min}]{\setlength{\rightskip}{0pt plus 5cm}int16\-\_\-t pid\-::get\-\_\-saturator\-\_\-min (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classpid_a1b4d0f306e84ac160ba79cebba739464}


Gets the saturator minimum. 

\begin{DoxyReturn}{Returns}
Minimal controller output value 
\end{DoxyReturn}


Definition at line 236 of file pid.\-cpp.



References pid\-::config\-::min.



Referenced by operator$<$$<$().

\hypertarget{classpid_a931b4c277b03a558f60719d98cec617e}{\index{pid@{pid}!get\-\_\-setpoint@{get\-\_\-setpoint}}
\index{get\-\_\-setpoint@{get\-\_\-setpoint}!pid@{pid}}
\subsubsection[{get\-\_\-setpoint}]{\setlength{\rightskip}{0pt plus 5cm}int16\-\_\-t pid\-::get\-\_\-setpoint (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classpid_a931b4c277b03a558f60719d98cec617e}


Gets the current P\-I\-D setpoint value. 

\begin{DoxyReturn}{Returns}
The current P\-I\-D setpoint value 
\end{DoxyReturn}


Definition at line 182 of file pid.\-cpp.



References setpoint.

\hypertarget{classpid_a7f092a6e847b3d3ec2b35161a1c1a933}{\index{pid@{pid}!set\-\_\-config@{set\-\_\-config}}
\index{set\-\_\-config@{set\-\_\-config}!pid@{pid}}
\subsubsection[{set\-\_\-config}]{\setlength{\rightskip}{0pt plus 5cm}void pid\-::set\-\_\-config (
\begin{DoxyParamCaption}
\item[{{\bf config\-\_\-t}}]{my\-\_\-config}
\end{DoxyParamCaption}
)}}\label{classpid_a7f092a6e847b3d3ec2b35161a1c1a933}


Updates the P\-I\-D configuration and clears esum, resetting the P\-I\-D controller. 


\begin{DoxyParams}{Parameters}
{\em my\-\_\-config} & New controller configuration \\
\hline
\end{DoxyParams}


Definition at line 92 of file pid.\-cpp.



References esum.

\hypertarget{classpid_aed4673f6646f44b2ee10564ad03d5033}{\index{pid@{pid}!set\-\_\-input@{set\-\_\-input}}
\index{set\-\_\-input@{set\-\_\-input}!pid@{pid}}
\subsubsection[{set\-\_\-input}]{\setlength{\rightskip}{0pt plus 5cm}void pid\-::set\-\_\-input (
\begin{DoxyParamCaption}
\item[{int16\-\_\-t}]{my\-\_\-input}
\end{DoxyParamCaption}
)}}\label{classpid_aed4673f6646f44b2ee10564ad03d5033}


Updates the input to the P\-I\-D, the value we are trying to control. 

In addition to updating the input value, it also computes the deriviative 
\begin{DoxyParams}{Parameters}
{\em my\-\_\-input} & New input value \\
\hline
\end{DoxyParams}


Definition at line 60 of file pid.\-cpp.



References dinput, input, linput, and sssub.



Referenced by compute().

\hypertarget{classpid_a363680a4d29f3bd7ffb132e5a90cb10c}{\index{pid@{pid}!set\-\_\-\-Kd@{set\-\_\-\-Kd}}
\index{set\-\_\-\-Kd@{set\-\_\-\-Kd}!pid@{pid}}
\subsubsection[{set\-\_\-\-Kd}]{\setlength{\rightskip}{0pt plus 5cm}void pid\-::set\-\_\-\-Kd (
\begin{DoxyParamCaption}
\item[{int16\-\_\-t}]{Kd}
\end{DoxyParamCaption}
)}}\label{classpid_a363680a4d29f3bd7ffb132e5a90cb10c}


Updates the derivative gain. 


\begin{DoxyParams}{Parameters}
{\em Kd} & New derivivative gain (1024x the value should be entered to allow fractional gain values.) \\
\hline
\end{DoxyParams}


Definition at line 123 of file pid.\-cpp.



References pid\-::config\-::\-Kd.

\hypertarget{classpid_a81c384e57c6a8ff97d4baf1f9cd04b9e}{\index{pid@{pid}!set\-\_\-\-Ki@{set\-\_\-\-Ki}}
\index{set\-\_\-\-Ki@{set\-\_\-\-Ki}!pid@{pid}}
\subsubsection[{set\-\_\-\-Ki}]{\setlength{\rightskip}{0pt plus 5cm}void pid\-::set\-\_\-\-Ki (
\begin{DoxyParamCaption}
\item[{int16\-\_\-t}]{Ki}
\end{DoxyParamCaption}
)}}\label{classpid_a81c384e57c6a8ff97d4baf1f9cd04b9e}


Updates the integral gain. 


\begin{DoxyParams}{Parameters}
{\em Ki} & New integral gain (1024x the value should be entered to allow fractional gain values.) \\
\hline
\end{DoxyParams}


Definition at line 113 of file pid.\-cpp.



References pid\-::config\-::\-Ki.

\hypertarget{classpid_adef385c61aa547f8cff8ec95c9a37b72}{\index{pid@{pid}!set\-\_\-\-Kp@{set\-\_\-\-Kp}}
\index{set\-\_\-\-Kp@{set\-\_\-\-Kp}!pid@{pid}}
\subsubsection[{set\-\_\-\-Kp}]{\setlength{\rightskip}{0pt plus 5cm}void pid\-::set\-\_\-\-Kp (
\begin{DoxyParamCaption}
\item[{int16\-\_\-t}]{Kp}
\end{DoxyParamCaption}
)}}\label{classpid_adef385c61aa547f8cff8ec95c9a37b72}


Updates the proportional gain. 


\begin{DoxyParams}{Parameters}
{\em Kp} & New proportional gain (1024x the value should be entered to allow fractional gain values.) \\
\hline
\end{DoxyParams}


Definition at line 103 of file pid.\-cpp.



References pid\-::config\-::\-Kp.

\hypertarget{classpid_ad125031ba4fe5b30657259689e726768}{\index{pid@{pid}!set\-\_\-\-Kw@{set\-\_\-\-Kw}}
\index{set\-\_\-\-Kw@{set\-\_\-\-Kw}!pid@{pid}}
\subsubsection[{set\-\_\-\-Kw}]{\setlength{\rightskip}{0pt plus 5cm}void pid\-::set\-\_\-\-Kw (
\begin{DoxyParamCaption}
\item[{int16\-\_\-t}]{Kw}
\end{DoxyParamCaption}
)}}\label{classpid_ad125031ba4fe5b30657259689e726768}


Updates the anti-\/windup gain. 


\begin{DoxyParams}{Parameters}
{\em Kw} & New anti-\/windup gain (1024x the value should be entered to allow fractional gain values.) \\
\hline
\end{DoxyParams}


Definition at line 133 of file pid.\-cpp.



References pid\-::config\-::\-Kw.

\hypertarget{classpid_a56146496ee1acb961defceee95b7d0ce}{\index{pid@{pid}!set\-\_\-mode@{set\-\_\-mode}}
\index{set\-\_\-mode@{set\-\_\-mode}!pid@{pid}}
\subsubsection[{set\-\_\-mode}]{\setlength{\rightskip}{0pt plus 5cm}void pid\-::set\-\_\-mode (
\begin{DoxyParamCaption}
\item[{{\bf mode\-\_\-t}}]{my\-\_\-mode}
\end{DoxyParamCaption}
)}}\label{classpid_a56146496ee1acb961defceee95b7d0ce}


This method sets the P\-I\-D mode. 

The method sets the P\-I\-D mode and also clears esum, effectively resetting the P\-I\-D if the same mode is set again 
\begin{DoxyParams}{Parameters}
{\em my\-\_\-mode} & An enumerated type {\ttfamily pid\-\_\-mode\-\_\-t} describing the new mode for the P\-I\-D \\
\hline
\end{DoxyParams}


Definition at line 49 of file pid.\-cpp.



References esum, and pid\-::config\-::mode.

\hypertarget{classpid_ae2b2fdf0933f9d62a7cb10042296c91a}{\index{pid@{pid}!set\-\_\-output@{set\-\_\-output}}
\index{set\-\_\-output@{set\-\_\-output}!pid@{pid}}
\subsubsection[{set\-\_\-output}]{\setlength{\rightskip}{0pt plus 5cm}void pid\-::set\-\_\-output (
\begin{DoxyParamCaption}
\item[{int16\-\_\-t}]{my\-\_\-output}
\end{DoxyParamCaption}
)}}\label{classpid_ae2b2fdf0933f9d62a7cb10042296c91a}


Manually updates the control output value. 

This method is for updating the P\-I\-D controller value while it is in manual mode 
\begin{DoxyParams}{Parameters}
{\em my\-\_\-output} & New controller output value \\
\hline
\end{DoxyParams}


Definition at line 74 of file pid.\-cpp.



References output.

\hypertarget{classpid_a2953f2df6e262b7c04443943607aadf5}{\index{pid@{pid}!set\-\_\-saturator@{set\-\_\-saturator}}
\index{set\-\_\-saturator@{set\-\_\-saturator}!pid@{pid}}
\subsubsection[{set\-\_\-saturator}]{\setlength{\rightskip}{0pt plus 5cm}void pid\-::set\-\_\-saturator (
\begin{DoxyParamCaption}
\item[{int16\-\_\-t}]{min, }
\item[{int16\-\_\-t}]{max}
\end{DoxyParamCaption}
)}}\label{classpid_a2953f2df6e262b7c04443943607aadf5}


Updates the upper and lower saturator values. 

Updates the minimal and maximal values allowed as output from the P\-I\-D controller. 
\begin{DoxyParams}{Parameters}
{\em min} & New minimum value \\
\hline
{\em max} & New maximum value \\
\hline
\end{DoxyParams}


Definition at line 145 of file pid.\-cpp.



References pid\-::config\-::max, and pid\-::config\-::min.

\hypertarget{classpid_a3d06be98332b1bdef6175a56dae019c2}{\index{pid@{pid}!set\-\_\-setpoint@{set\-\_\-setpoint}}
\index{set\-\_\-setpoint@{set\-\_\-setpoint}!pid@{pid}}
\subsubsection[{set\-\_\-setpoint}]{\setlength{\rightskip}{0pt plus 5cm}void pid\-::set\-\_\-setpoint (
\begin{DoxyParamCaption}
\item[{int16\-\_\-t}]{my\-\_\-setpoint}
\end{DoxyParamCaption}
)}}\label{classpid_a3d06be98332b1bdef6175a56dae019c2}


Updates the set-\/point for the P\-I\-D. 


\begin{DoxyParams}{Parameters}
{\em my\-\_\-setpoint} & New set-\/point \\
\hline
\end{DoxyParams}


Definition at line 83 of file pid.\-cpp.



References setpoint.



Referenced by compute().



The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
\hyperlink{pid_8h}{pid.\-h}\item 
\hyperlink{pid_8cpp}{pid.\-cpp}\end{DoxyCompactItemize}
