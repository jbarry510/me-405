\hypertarget{classtask__sensor}{\section{task\-\_\-sensor Class Reference}
\label{classtask__sensor}\index{task\-\_\-sensor@{task\-\_\-sensor}}
}


This define prevents this .H file from being included multiple times in a .C\-P\-P file.  




{\ttfamily \#include $<$task\-\_\-sensor.\-h$>$}

Inheritance diagram for task\-\_\-sensor\-:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classtask__sensor}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classtask__sensor_adbeab920f84be1ad5ab1909c47bce1bb}{task\-\_\-sensor} (const char $\ast$, unsigned port\-B\-A\-S\-E\-\_\-\-T\-Y\-P\-E, size\-\_\-t, emstream $\ast$)
\begin{DoxyCompactList}\small\item\em No private variables or methods for this class. \end{DoxyCompactList}\item 
void \hyperlink{classtask__sensor_ab9b6d10d8ea2f6df8f497e4b6c1173a2}{run} (void)
\begin{DoxyCompactList}\small\item\em This method is called by the R\-T\-O\-S once to run the task loop indefinetly. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
This define prevents this .H file from being included multiple times in a .C\-P\-P file. 

Definition at line 31 of file task\-\_\-sensor.\-h.



\subsection{Constructor \& Destructor Documentation}
\hypertarget{classtask__sensor_adbeab920f84be1ad5ab1909c47bce1bb}{\index{task\-\_\-sensor@{task\-\_\-sensor}!task\-\_\-sensor@{task\-\_\-sensor}}
\index{task\-\_\-sensor@{task\-\_\-sensor}!task_sensor@{task\-\_\-sensor}}
\subsubsection[{task\-\_\-sensor}]{\setlength{\rightskip}{0pt plus 5cm}task\-\_\-sensor\-::task\-\_\-sensor (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{a\-\_\-name, }
\item[{unsigned port\-B\-A\-S\-E\-\_\-\-T\-Y\-P\-E}]{a\-\_\-priority, }
\item[{size\-\_\-t}]{a\-\_\-stack\-\_\-size, }
\item[{emstream $\ast$}]{p\-\_\-ser\-\_\-dev}
\end{DoxyParamCaption}
)}}\label{classtask__sensor_adbeab920f84be1ad5ab1909c47bce1bb}


No private variables or methods for this class. 

No protected variables or methods for this class This constructor creates a generic sensor task of which many copies can be made.

This constructor creates a task which creates an I\-M\-U sensor and adc objects that give I\-R sensor readings. The main job of this constructor is to call the constructor of parent class ({\ttfamily frt\-\_\-task} ); the parent's constructor the work. 
\begin{DoxyParams}{Parameters}
{\em a\-\_\-name} & A character string which will be the name of this task \\
\hline
{\em a\-\_\-priority} & The priority at which this task will initially run (default\-: 0) \\
\hline
{\em a\-\_\-stack\-\_\-size} & The size of this task's stack in bytes (default\-: config\-M\-I\-N\-I\-M\-A\-L\-\_\-\-S\-T\-A\-C\-K\-\_\-\-S\-I\-Z\-E) \\
\hline
{\em p\-\_\-ser\-\_\-dev} & Pointer to a serial device (port, radio, S\-D card, etc.) which can be used by this task to communicate (default\-: N\-U\-L\-L) \\
\hline
\end{DoxyParams}


Definition at line 26 of file task\-\_\-sensor.\-cpp.



\subsection{Member Function Documentation}
\hypertarget{classtask__sensor_ab9b6d10d8ea2f6df8f497e4b6c1173a2}{\index{task\-\_\-sensor@{task\-\_\-sensor}!run@{run}}
\index{run@{run}!task_sensor@{task\-\_\-sensor}}
\subsubsection[{run}]{\setlength{\rightskip}{0pt plus 5cm}void task\-\_\-sensor\-::run (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{classtask__sensor_ab9b6d10d8ea2f6df8f497e4b6c1173a2}


This method is called by the R\-T\-O\-S once to run the task loop indefinetly. 

This method is called once by the R\-T\-O\-S scheduler. Each time around the for (;;) loop, it instatiates a new I\-M\-U object and two adc objects for I\-R distance readings. Make a variable which will hold times to use for precise task scheduling

Creates adc objects for I\-R distance sensors

Creates a new I\-M\-U object

Initializes the sensor reading variables

Main task loop

First paraemter is channel of A\-D\-C to read from Second parameter is number of samples to take

Calls the system status method in the \hyperlink{classimu__drv}{imu\-\_\-drv} which prints a message regarding the status

Gets the Euler angle variables by calling the get\-Euler\-Ang method in the \hyperlink{classimu__drv}{imu\-\_\-drv}.

Saves Euler heading reading to a shared variable 

Definition at line 37 of file task\-\_\-sensor.\-cpp.



References imu\-\_\-drv\-::get\-Euler\-Ang(), imu\-\_\-drv\-::get\-Sys\-Status(), and adc\-::read\-\_\-oversampled().



The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
\hyperlink{task__sensor_8h}{task\-\_\-sensor.\-h}\item 
\hyperlink{task__sensor_8cpp}{task\-\_\-sensor.\-cpp}\end{DoxyCompactItemize}
