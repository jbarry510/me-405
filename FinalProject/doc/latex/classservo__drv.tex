\hypertarget{classservo__drv}{\section{servo\-\_\-drv Class Reference}
\label{classservo__drv}\index{servo\-\_\-drv@{servo\-\_\-drv}}
}


This define prevents this .H file from being included multiple times in a .C\-P\-P file.  




{\ttfamily \#include $<$servo\-\_\-drv.\-h$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classservo__drv_af67b71c2466b067b96846d27c4ac45c8}{servo\-\_\-drv} (emstream $\ast$=N\-U\-L\-L)
\begin{DoxyCompactList}\small\item\em This constructor sets up the servo object. \end{DoxyCompactList}\item 
void \hyperlink{classservo__drv_a7069cb1caa934b4a0dd4f76df883d319}{set\-\_\-\-Pos} (uint16\-\_\-t pos)
\begin{DoxyCompactList}\small\item\em Method that sets the P\-W\-M for changing servo position. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classservo__drv_a1b4103f2487666884b4aa8eb80c5dff0}{emstream $\ast$ \hyperlink{classservo__drv_a1b4103f2487666884b4aa8eb80c5dff0}{ptr\-\_\-to\-\_\-serial}}\label{classservo__drv_a1b4103f2487666884b4aa8eb80c5dff0}

\begin{DoxyCompactList}\small\item\em The servo class uses this pointer to print debug messages via the serial port. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
This define prevents this .H file from being included multiple times in a .C\-P\-P file. 

This class will enable a servo to be used with the M\-E 405 board.

The driver contains a function to set servo position. 

Definition at line 29 of file servo\-\_\-drv.\-h.



\subsection{Constructor \& Destructor Documentation}
\hypertarget{classservo__drv_af67b71c2466b067b96846d27c4ac45c8}{\index{servo\-\_\-drv@{servo\-\_\-drv}!servo\-\_\-drv@{servo\-\_\-drv}}
\index{servo\-\_\-drv@{servo\-\_\-drv}!servo_drv@{servo\-\_\-drv}}
\subsubsection[{servo\-\_\-drv}]{\setlength{\rightskip}{0pt plus 5cm}servo\-\_\-drv\-::servo\-\_\-drv (
\begin{DoxyParamCaption}
\item[{emstream $\ast$}]{p\-\_\-serial\-\_\-port = {\ttfamily NULL}}
\end{DoxyParamCaption}
)}}\label{classservo__drv_af67b71c2466b067b96846d27c4ac45c8}


This constructor sets up the servo object. 

The constructor sets up the servo driver for use. The \char`\"{}= N\-U\-L\-L\char`\"{} part is a default parameter, meaning that if that parameter isn't given on the line where this constructor is called, the compiler will just fill in \char`\"{}\-N\-U\-L\-L\char`\"{}. In this case that has the effect of turning off diagnostic printouts.

Our servo operates at a 20 ms period pulse (50 Hz) in the range of positions from neutral (90 deg) at a 1.\-5 ms pulse width to a min (45 deg) at a 1 ms pulse width and max (135 deg) at a 2 ms pulse width. Timer channel 3\-A is used to generate the P\-W\-M signal (Pin E3 on our microcontroller). 
\begin{DoxyParams}{Parameters}
{\em p\-\_\-serial\-\_\-port} & A pointer to the serial port which writes debugging info. \\
\hline
\end{DoxyParams}


Definition at line 27 of file servo\-\_\-drv.\-cpp.



\subsection{Member Function Documentation}
\hypertarget{classservo__drv_a7069cb1caa934b4a0dd4f76df883d319}{\index{servo\-\_\-drv@{servo\-\_\-drv}!set\-\_\-\-Pos@{set\-\_\-\-Pos}}
\index{set\-\_\-\-Pos@{set\-\_\-\-Pos}!servo_drv@{servo\-\_\-drv}}
\subsubsection[{set\-\_\-\-Pos}]{\setlength{\rightskip}{0pt plus 5cm}void servo\-\_\-drv\-::set\-\_\-\-Pos (
\begin{DoxyParamCaption}
\item[{uint16\-\_\-t}]{pos}
\end{DoxyParamCaption}
)}}\label{classservo__drv_a7069cb1caa934b4a0dd4f76df883d319}


Method that sets the P\-W\-M for changing servo position. 

This method a position input and sets the servo to that position.

The input is set to the output compare register used for the P\-W\-M signal to the servo (Timer 3\-A, Pin E3). The range of allowable inputs runs 2000 to 4000 which correspond to the max right turning angle and max left turning angle respectively. An input of 3000 will set the servo to its neutral position. 
\begin{DoxyParams}{Parameters}
{\em pos} & Input that sets the position of the servo \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
None 
\end{DoxyReturn}
Checks if the servo position input is in the correct range, if outside the range the position input is saturated.

Sets the position input to the output compare register used to generate the P\-W\-M signal. 

Definition at line 53 of file servo\-\_\-drv.\-cpp.



Referenced by task\-\_\-steer\-::run().



The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
\hyperlink{servo__drv_8h}{servo\-\_\-drv.\-h}\item 
\hyperlink{servo__drv_8cpp}{servo\-\_\-drv.\-cpp}\end{DoxyCompactItemize}
