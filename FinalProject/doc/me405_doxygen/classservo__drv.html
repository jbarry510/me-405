<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>ME 405 Final Project: servo_drv Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ME 405 Final Project
   &#160;<span id="projectnumber">0.001</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classservo__drv-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">servo_drv Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This define prevents this .H file from being included multiple times in a .CPP file.  
 <a href="classservo__drv.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="servo__drv_8h_source.html">servo_drv.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af67b71c2466b067b96846d27c4ac45c8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classservo__drv.html#af67b71c2466b067b96846d27c4ac45c8">servo_drv</a> (emstream *=NULL)</td></tr>
<tr class="memdesc:af67b71c2466b067b96846d27c4ac45c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">This constructor sets up the servo object.  <a href="#af67b71c2466b067b96846d27c4ac45c8">More...</a><br/></td></tr>
<tr class="separator:af67b71c2466b067b96846d27c4ac45c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7069cb1caa934b4a0dd4f76df883d319"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classservo__drv.html#a7069cb1caa934b4a0dd4f76df883d319">set_Pos</a> (uint16_t pos)</td></tr>
<tr class="memdesc:a7069cb1caa934b4a0dd4f76df883d319"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method that sets the PWM for changing servo position.  <a href="#a7069cb1caa934b4a0dd4f76df883d319">More...</a><br/></td></tr>
<tr class="separator:a7069cb1caa934b4a0dd4f76df883d319"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a1b4103f2487666884b4aa8eb80c5dff0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1b4103f2487666884b4aa8eb80c5dff0"></a>
emstream *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classservo__drv.html#a1b4103f2487666884b4aa8eb80c5dff0">ptr_to_serial</a></td></tr>
<tr class="memdesc:a1b4103f2487666884b4aa8eb80c5dff0"><td class="mdescLeft">&#160;</td><td class="mdescRight">The servo class uses this pointer to print debug messages via the serial port. <br/></td></tr>
<tr class="separator:a1b4103f2487666884b4aa8eb80c5dff0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This define prevents this .H file from being included multiple times in a .CPP file. </p>
<p>This class will enable a servo to be used with the ME 405 board.</p>
<p>The driver contains a function to set servo position. </p>

<p>Definition at line <a class="el" href="servo__drv_8h_source.html#l00029">29</a> of file <a class="el" href="servo__drv_8h_source.html">servo_drv.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="af67b71c2466b067b96846d27c4ac45c8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">servo_drv::servo_drv </td>
          <td>(</td>
          <td class="paramtype">emstream *&#160;</td>
          <td class="paramname"><em>p_serial_port</em> = <code>NULL</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This constructor sets up the servo object. </p>
<p>The constructor sets up the servo driver for use. The "= NULL" part is a default parameter, meaning that if that parameter isn't given on the line where this constructor is called, the compiler will just fill in "NULL". In this case that has the effect of turning off diagnostic printouts.</p>
<p>Our servo operates at a 20 ms period pulse (50 Hz) in the range of positions from neutral (90 deg) at a 1.5 ms pulse width to a min (45 deg) at a 1 ms pulse width and max (135 deg) at a 2 ms pulse width. Timer channel 3A is used to generate the PWM signal (Pin E3 on our microcontroller). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_serial_port</td><td>A pointer to the serial port which writes debugging info. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="servo__drv_8cpp_source.html#l00027">27</a> of file <a class="el" href="servo__drv_8cpp_source.html">servo_drv.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a7069cb1caa934b4a0dd4f76df883d319"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void servo_drv::set_Pos </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>pos</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method that sets the PWM for changing servo position. </p>
<p>This method a position input and sets the servo to that position.</p>
<p>The input is set to the output compare register used for the PWM signal to the servo (Timer 3A, Pin E3). The range of allowable inputs runs 2000 to 4000 which correspond to the max right turning angle and max left turning angle respectively. An input of 3000 will set the servo to its neutral position. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pos</td><td>Input that sets the position of the servo </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>
<p>Checks if the servo position input is in the correct range, if outside the range the position input is saturated.</p>
<p>Sets the position input to the output compare register used to generate the PWM signal. </p>

<p>Definition at line <a class="el" href="servo__drv_8cpp_source.html#l00053">53</a> of file <a class="el" href="servo__drv_8cpp_source.html">servo_drv.cpp</a>.</p>

<p>Referenced by <a class="el" href="task__steer_8cpp_source.html#l00040">task_steer::run()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="servo__drv_8h_source.html">servo_drv.h</a></li>
<li><a class="el" href="servo__drv_8cpp_source.html">servo_drv.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Jun 10 2016 17:49:23 for ME 405 Final Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
